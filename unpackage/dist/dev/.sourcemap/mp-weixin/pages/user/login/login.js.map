{"version":3,"sources":["uni-app:///main.js","webpack:///C:/bufanWorkSpace/乐居重构/pages/user/login/login.vue?178c","webpack:///C:/bufanWorkSpace/乐居重构/pages/user/login/login.vue?918c","webpack:///C:/bufanWorkSpace/乐居重构/pages/user/login/login.vue?007e","webpack:///C:/bufanWorkSpace/乐居重构/pages/user/login/login.vue?bc11","uni-app:///pages/user/login/login.vue","webpack:///C:/bufanWorkSpace/乐居重构/pages/user/login/login.vue?a6dc"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,+C,mDACAA,EAAWC,a;;;;2DCHX,4SACIC,EADJ,qKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,6BACZ,aAAAF,E;;;;2GCvBf,snC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,0uBAAmrB,eAAG,G;;;;yMCyCtrB,qC,8zBAGA,CACA,KADA,WAEA,OAEA,aACA,wBACA,kBACA,YACA,UAGA,YACA,SACA,WAEA,SACA,MADA,WACA,WACA,kCACA,mBACA,qBACA,sBACA,kBACA,cAEA,qBACA,4CACA,OAEA,aAKA,YAlBA,WAmBA,kCACA,0BACA,kBACA,cACA,8CACA,aACA,0BAEA,uBACA,aACA,2BAEA,KAEA,KAEA,WAMA,WAzCA,WAyCA,oIACA,KAEA,WAHA,0CAKA,GALA,UAOA,uBAPA,uBAQA,aACA,YACA,kBACA,kBAXA,+BAeA,qBAfA,uBAgBA,aACA,YACA,kBACA,gBAnBA,iCAyBA,cACA,uBACA,gBACA,KA5BA,UAgCA,UAhCA,WAgCA,EAhCA,QAiCA,EAjCA,kCAkCA,gBAlCA,gCAoCA,aACA,0BArCA,+CA0CA,aAnFA,WAqFA,aACA,YACA,kBACA,eAGA,YA3FA,WA6FA,aACA,YACA,kBACA,eAGA,aAnGA,WAqGA,aACA,YACA,kBACA,iB;;;;2DCnKA,+iCAAw/B,eAAG,G","file":"pages/user/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/user/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=763df410&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=763df410&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"763df410\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=763df410&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"login\">\n\t\t<view class=\"content\">\n\t\t\t<!-- 头部logo -->\n\t\t\t<view class=\"header\">\n\t\t\t\t<image src=\"../../../static/icons/leju-logo.png\"></image>\n\t\t\t</view>\n\t\t\t<!-- 主体表单 -->\n\t\t\t<view class=\"main\">\n\t\t\t\t<wInput v-model=\"phoneData\" type=\"text\" maxlength=\"11\" placeholder=\"用户名/电话\"></wInput>\n\t\t\t\t<wInput v-model=\"passData\" type=\"password\" maxlength=\"11\" placeholder=\"密码\"></wInput>\n\t\t\t</view>\n\t\t\t<wButton bgColor=\"#354E44\" text=\"登 录\" :rotate=\"isRotate\" @click.native=\"startLogin()\"></wButton>\n\n\t\t\t<!-- 其他登录 -->\n\t\t\t<!-- <view class=\"other_login cuIcon\">\n\t\t\t\t<view class=\"login_icon\">\n\t\t\t\t\t<view class=\"cuIcon-weixin\" @tap=\"login_weixin\"></view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"login_icon\">\n\t\t\t\t\t<view class=\"cuIcon-weibo\" @tap=\"login_weibo\"></view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"login_icon\">\n\t\t\t\t\t<view class=\"cuIcon-github\" @tap=\"login_github\"></view>\n\t\t\t\t</view>\n\t\t\t</view> -->\n\n\t\t\t<!-- 底部信息 -->\n\t\t\t<view class=\"footer\">\n\t\t\t\t<navigator url=\"../resetPassword/resetPassword\" open-type=\"navigate\">找回密码</navigator>\n\t\t\t\t<text>|</text>\n\t\t\t\t<navigator url=\"/pages/user/register/register\" open-type=\"navigate\">注册账号</navigator>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tvar _this;\n\timport wInput from '@/components/watch-login/watch-input.vue' //input\n\timport wButton from '@/components/watch-login/watch-button.vue' //button\n\timport userApi from '@/api/user/index.js'\n\t \n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t//logo图片 base64\n\t\t\t\tlogoImage: '',\n\t\t\t\tphoneData: '17596496508', //用户/电话\n\t\t\t\tpassData: '123456', //密码\n\t\t\t\tisRotate: false, //是否加载旋转\n\t\t\t\tuser: {}\n\t\t\t};\n\t\t},\n\t\tcomponents: {\n\t\t\twInput,\n\t\t\twButton,\n\t\t},\n\t\tmethods: {\n\t\t\tlogin(){\n\t\t\t\treturn new Promise((resolve,rej)=>{\n\t\t\t\t\tuserApi.doLogin({\n\t\t\t\t\t\tusername:this.phoneData,\n\t\t\t\t\t\tpassword:this.passData\n\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\tif(res.success == true){\n\t\t\t\t\t\t\t// 清除旧信息\n\t\t\t\t\t\t\tuni.clearStorageSync();\n\t\t\t\t\t\t\tuni.setStorageSync(\"leju_token\",res.data.token);\n\t\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\trej(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetUserInfo(){\n\t\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\t\tuserApi.getMemberInfo()\n\t\t\t\t\t.then(res =>{\n\t\t\t\t\t\tif(res.success == true){\n\t\t\t\t\t\t\tuni.setStorageSync(\"leju_user\",res.data.userInfo);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"登录成功,1s后跳转到个人中心\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\turl: '/pages/user/user'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync startLogin() {\r\n\t\t\t\tvar _this = this;\n\t\t\t\t//登录\n\t\t\t\tif (this.isRotate) {\n\t\t\t\t\t//判断是否加载中，避免重复点击请求\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.phoneData.length == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\ttitle: '用户名不能为空'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.passData.length < 5) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\t\ttitle: '密码不正确'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\t_this.isRotate = true\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t_this.isRotate = false\n\t\t\t\t}, 3000)\n\t\t\t\t// uni.showLoading({\n\t\t\t\t// \ttitle: '登录中'\n\t\t\t\t// });\n\t\t\t\tvar result = await this.login();\n\t\t\t\tif(result){\n\t\t\t\t\tawait this.getUserInfo();\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"登录失败,请检查用户名和密码!\"\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tlogin_weixin() {\n\t\t\t\t//微信登录\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\ttitle: '...'\n\t\t\t\t});\n\t\t\t},\n\t\t\tlogin_weibo() {\n\t\t\t\t//微博登录\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\ttitle: '...'\n\t\t\t\t});\n\t\t\t},\n\t\t\tlogin_github() {\n\t\t\t\t//github登录\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t\ttitle: '...'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t@import url(\"../../../components/watch-login/css/icon.css\");\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content:center;\r\n\t\t/* margin-top: 128upx; */\r\n\t}\r\n\t\r\n\t/* 头部 logo */\r\n\t.header {\r\n\t\twidth:161upx;\r\n\t\theight:161upx;\r\n\t\tbox-shadow:0upx 0upx 60upx 0upx rgba(0,0,0,0.1);\r\n\t\tborder-radius:50%;\r\n\t\tbackground-color: #000000; \r\n\t\tmargin-top: 128upx;\r\n\t\tmargin-bottom: 72upx;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t}\r\n\t.header image{\r\n\t\twidth:161upx;\r\n\t\theight:161upx;\r\n\t\tborder-radius:50%;\r\n\t}\r\n\t\r\n\t/* 主体 */\r\n\t.main {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding-left: 70upx;\r\n\t\tpadding-right: 70upx;\r\n\t}\r\n\t.tips {\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-top: 64upx;\r\n\t\tmargin-left: 48upx;\r\n\t}\r\n\t\r\n\t/* 其他登录方式 */\r\n\t.other_login{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 156upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.login_icon{\r\n\t\tborder: none;\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t\tfont-size: 64upx;\r\n\t\tmargin: 0 64upx 0 64upx;\r\n\t\tcolor: rgba(0,0,0,0.7);\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 32rpx;\r\n\t}\r\n\t.wechat_color{\r\n\t\tcolor: #83DC42;\r\n\t}\r\n\t.weibo_color{\r\n\t\tcolor: #F9221D;\r\n\t}\r\n\t.github_color{\r\n\t\tcolor: #24292E;\r\n\t}\r\n\t\r\n\t/* 底部 */\r\n\t.footer{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-top: 64upx;\r\n\t\tcolor: rgba(0,0,0,0.7);\r\n\t\ttext-align: center;\r\n\t\theight: 40upx;\r\n\t\tline-height: 40upx;\r\n\t}\r\n\t.footer text{\r\n\t\tfont-size: 24upx;\r\n\t\tmargin-left: 15upx;\r\n\t\tmargin-right: 15upx;\r\n\t}\n</style>\n","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=763df410&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=763df410&scoped=true&lang=css&\""],"sourceRoot":""}